@import "../base/global";

.c-item {
    --c-item-photo_scale: 1;
    --c-item-button_opacity: 0;
    --c-item-button_translate-y: 1em;
    position: relative;
    min-block-size: 100vh;

    &:after{
        position: absolute;
        inset: 0;
        content: '';
        background-image: radial-gradient(hsla(0, 0%, 0%, 50%), transparent);
        z-index: 2;
    }
    

    &.is-active{
        --c-item-photo_scale: 1.2;
        --c-item-button_opacity: 1;
        --c-item-button_translate-y: 0;
        --c-item-text_animation: showText;
        --c-item-box_animation: whiteBox;
    }

    &__photo {
        position: absolute;
        inset: 0;
        opacity: .9;
        scale: var(--c-item-photo_scale);
        transition: scale 5s linear;
        z-index: 1;

        img {
            @include position;
            position: relative;
            display: block;
            min-inline-size: 100%;
            min-block-size: 100%;
        }
    }

    &__content {
        @include position;
        @include flex-set(flex, column, wrap, var(--c_gap, 3em), center, center);
        padding-block-end: 1em;
        overflow: hidden;
        z-index: 3;

        > h1,
        > strong {
            position: relative;
            display: inline-block;
            font-family: $font-title;
            font-size: clamp($gap-xxl, 6em, 20vh);
            font-weight: 400;     
            line-height: 1;
            color: var(--content_color, var(--color-trans));
            animation: var(--c-item-text_animation) .1s linear forwards;
            animation-delay: 1s;

            &:after{
                position: absolute;
                inset: -.1em;
                content: "";
                background-color: var(--color-white);
                animation: var(--c-item-box_animation) 2s linear forwards;
                translate: -100%;
            }
        }

        > .button{
            opacity: var(--c-item-button_opacity);
            translate: 0 var(--c-item-button_translate-y);
            transition: opacity 1s var(--trans-fnc), 1s var(--trans-fnc);
            transition-delay: 1s;
        }
    }
}

@keyframes showText{
    to{
        --content_color: var(--color-white);
    }
}

@keyframes whiteBox{
    from{
        translate: -100%;
        scale: 0 1;

    }

    40%, 60%{
        translate: 0;
        scale: 1 1;
    }

    to{
        translate: 100%;
        scale: 0 1;
    }
}
